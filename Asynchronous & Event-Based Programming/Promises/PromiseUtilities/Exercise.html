<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>promise Utilities</title>
</head>
<body>
  <script>

    promise.all()
    async function loadDashboard() {
      try{
        const[user, posts, comments] = await Promise,all([
          fetch("/users").then(res => res.json()),
          fetch("/posts").then(res => res.json()),
          fetch("/comments").then(res => res.json())
        ]);
        console.log(users, posts, comments);
      }catch(error){
        console.error(error)
      }
    }

    promise.allSettle()
    async function checkService() {
      const result = await Promise.allSettled([
        fetch("/service1"),
        fetch("/service2"),
        fetch('/service3')
      ]);
      console.log(result);
    }

    promise.race()
    async function fetchWithTimeout(url, ms) {
      const time = new Promise((_ , reject)=>
    setTimeout(()=>reject("Timeout"), ms)
  )
  return Promise.race([
    fetch(url),
    time
  ]);
    }

    fetchWithTimeout("/users", 2000)
    .then(res => console.log("Got it"))
    .then(err => console.log(err))
  </script>
</body>
</html>